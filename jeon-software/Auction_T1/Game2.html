{% extends "global/Page.html" %}
{% load otree %}


{% block style %}
    <style>
      .form-control {
        width: 100px;
      }
            .otree-form-errors{
          display: none;
      }
    </style>

{% endblock %}
{% block content %}


        <h1> Part 2 Task 2  </h1>
    <div class="card bg-light m-3">
    <div class="card-body">
        Welcome to Task 2. Please read the instructions carefully and complete the task.
    </div></div>
   <div class="card  m-3">
          <h5 class="card-header">Instructions</h5>
    <div class="card-body">

        <p>You are paired with the same opponent from Task 1. </p>

        <p>In this task, you will first decide whether to <b>ENTER</b> or <b>EXIT </b> the auction. </p>
        <p>
            If you <b>ENTER</b>, you will decide your bid.
            If your bid is higher than your <b>opponent’s previous bid in Task 1</b>,
            you will win and receive the prize of $10.00. You can bid from $0.00 to $20.00 in increments of $0.01.
            Regardless of whether you win or lose, you must pay your bid.
        </p>
                <p>
            If you <b>EXIT</b>, you will receive your endowment of $20.00. <br>
        </p>
        <p>
            <b> In summary, </b><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o	If you ENTER and WIN:<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‣	Your earnings = $20.00 – your bid + $10.00<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o	If you ENTER and LOSE: <br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‣	Your earnings = $20.00 – your bid<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o	If you ENTER and TIE, the winner will be selected at random: <br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‣	50% chance that you WIN<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‣	50% change that you LOSE<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o	If you EXIT: <br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‣	Your earnings = $20.00<br>
        </p>
</div>
    </div>
      <h2>Your entry decision</h2>
    <div class="card bg-light m-3">
    <div class="card-body">
        Please now decide whether you will ENTER or EXIT the auction. <br><br> <p>
                  <button id="enter" class="button btn btn-success" style="width:135px">
      ENTER </button>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <button id="exit" class="button btn btn-success"style="width:135px">
            EXIT </button> </p>
    </div></div>
<div id="entered" style="display:none" >
      <h2>Your bidding decision</h2>
    <div  class="card bg-light m-3">
    <div class="card-body">
        <p>Please now decide your bid. Please answer to the 100th cent. (i.e., $12.34) </p>
         <input type="number" name="bid_2" id="bid_2" class="form-control" step="0.01"/>
     {{ formfield_errors 'bid_2' }}
    </div>
    </div>
    </div>
<div id="exited" style="display:none" >
      <h2>Your bidding decision</h2>
    <div  class="card bg-light m-3">
    <div class="card-body">
        You have no bidding decision to make.
    </div>
    </div>
</div>
<div class="card-body">
          <button id="submit" disabled class="button btn btn-success">
      Submit </button>
 </div>
        <input type="hidden" name="entry_2" id="entry_2" />

{% endblock %}

{% block script %}

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>


    $("#enter").click(function(event) {
                 event.preventDefault();
                          $("#bid_2").val("");
                       $("#submit").prop("disabled", false);
                           $("#entered").show();
        $("#exited").hide();
          $("#entry_2").val("ENTER")
          })

     $("#exit").click(function(event) {
                  event.preventDefault();
      $("#submit").prop("disabled", false);
    $("#exited").show();
         $("#entered").hide();
          $("#entry_2").val("EXIT")
         $("#bid_2").val("0");
          })
</script>


{% endblock %}